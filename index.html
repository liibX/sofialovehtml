<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ðŸ’š Ti amo Sofia</title>

  <style>
    :root{
      --bg1:#06130a;
      --bg2:#020703;
      --green:#35ff7a;
      --text:#d9ffe8;
    }

    html,body{
      margin:0;
      width:100%;
      height:100%;
      overflow:hidden;
      background: radial-gradient(1200px 700px at 50% 35%, var(--bg1), var(--bg2));
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
    }

    canvas{
      position:absolute;
      inset:0;
      width:100%;
      height:100%;
      z-index:0;
    }

    .glow{
      position:absolute;
      inset:0;
      margin:auto;
      width:min(520px, 82vw);
      height:min(520px, 82vw);
      border-radius:50%;
      filter: blur(34px);
      background: radial-gradient(circle,
        rgba(53,255,122,.22),
        rgba(53,255,122,.07) 35%,
        rgba(0,0,0,0) 70%);
      z-index:1;
      animation:pulse 2.3s ease-in-out infinite;
      pointer-events:none;
    }

    @keyframes pulse{
      0%,100%{transform:scale(.98);opacity:.85}
      50%{transform:scale(1.05);opacity:1}
    }

    .overlay{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:2;
      text-align:center;
      pointer-events:none;
      padding:20px;
    }

    h1{
      font-size:clamp(22px,3.2vw,42px);
      margin:0;
      font-weight:800;
      text-shadow:0 0 22px rgba(53,255,122,.25);
    }

    .cursor{
      display:inline-block;
      width:.6ch;
      animation:blink .9s step-end infinite;
    }

    @keyframes blink{50%{opacity:0}}
  </style>
</head>

<body>

<canvas id="c"></canvas>
<div class="glow"></div>

<div class="overlay">
  <h1><span id="typed"></span><span class="cursor">|</span></h1>
</div>

<script>
  // ----- typing text -----
  const message = "Ti amo Sofia, per sempre con te ðŸ’š";
  const typed = document.getElementById("typed");
  let i = 0;

  function type(){
    typed.textContent = message.slice(0,i++);
    if(i <= message.length){
      setTimeout(type, 60);
    }
  }
  type();

  // ----- canvas heart particles -----
  const canvas = document.getElementById("c");
  const ctx = canvas.getContext("2d");

  function resize(){
    canvas.width = innerWidth;
    canvas.height = innerHeight;
  }
  addEventListener("resize", resize);
  resize();

  function heart(t){
    return {
      x: 16 * Math.pow(Math.sin(t),3),
      y: 13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t)
    };
  }

  const particles = [];
  for(let i=0;i<900;i++){
    particles.push({
      t: Math.random()*Math.PI*2,
      x: Math.random()*innerWidth,
      y: Math.random()*innerHeight
    });
  }

  function draw(){
    ctx.fillStyle="rgba(0,0,0,.18)";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    const cx=canvas.width/2;
    const cy=canvas.height/2;
    const s=Math.min(cx,cy)*0.03;

    for(const p of particles){
      p.t+=0.01;
      const h=heart(p.t);
      p.x+=((cx+h.x*s)-p.x)*0.02;
      p.y+=((cy-h.y*s)-p.y)*0.02;

      ctx.fillStyle="rgba(53,255,122,.8)";
      ctx.beginPath();
      ctx.arc(p.x,p.y,1.5,0,Math.PI*2);
      ctx.fill();
    }
    requestAnimationFrame(draw);
  }
  draw();
</script>

</body>
</html>
